\subsection{Generalised Triangle Inequality}
Suppose \( u,x,y,z \in M \).
Then, \( \abs{d(u,x) - d(y,z)} \leq d(u,y) + d(x,z) \).
First,
\[
	d(u,x) \leq d(u,y) + d(y,x) \leq d(u,y) + d(y,z) + d(z,x)
\]
Rearranging,
\[
	d(u,x)-d(y-z) \leq d(u,y) + d(x,z)
\]
To achieve the negative, satisfying both conditions in the absolute value term,
\[
	d(y,z) \leq d(y,u) + d(u,x) + d(x,z)
\]
which gives
\[
	d(y-z) - d(u,x) \leq d(u,y) + d(x,z)
\]
as required.

\subsection{Topology of Metric Spaces}
\begin{definition}
	Let \( M \) be a metric space, \( x \in M \), \( r > 0 \).
	Then the \textit{open ball} in \( M \) of centre \( x \) and radius \( r \) is the set
	\[
		\mathcal D_r(x) = \qty{y \in M \colon d(y,x) < r}
	\]
\end{definition}
The open ball notation is a convenient syntax for denoting closeness in some metric space.
Note that, for example, \( x_n \to n \) in \( M \) is equivalent to saying
\[
	\forall \varepsilon > 0, \exists N \in \mathbb N, \forall n \geq N, x_n \in D_\varepsilon(x)
\]
We can also say that \( f \colon M \to M' \) is continuous at \( x \) if
\[
	\forall \varepsilon > 0, \exists \delta > 0, f\qty(D_\delta(x)) \subset D_\varepsilon(f(x))
\]
\begin{definition}
	The closed ball of centre \( x \) and radius \( r \geq 0 \) is the set
	\[
		\mathcal B_r(x) = \qty{y \in M \colon d(y,x) \leq r}
	\]
\end{definition}
\begin{example}
	In \( \mathbb R \), \( \mathcal D_r(x) = (x-r,x+r) \).
	Further, \( \mathcal B_r(x) = [x-r,x+r] \).
	In the plane \( (\mathbb R^2, d_p) \),
	\[
		\mathcal B_1(0) = \qty{ x \in \mathbb R^2 \colon \norm{x}_p \leq 1 }
	\]
\end{example}
\begin{note}
	\( \mathcal D_r(x) \subset \mathcal B_r(x) \subset \mathcal D_s(x) \) for all \( r < s \).
\end{note}
\begin{example}
	Let \( M \) be a discrete metric space.
	Then for \( x \in M \),
	\[
		\mathcal D_1(x) = \qty{x};\quad \mathcal B_1(x) = M
	\]
\end{example}

\subsection{}
\begin{definition}
	Let \( M \) be a metric space, and \( U \subset M \).
	Then for \( x \in M \), we say that \( U \) is a \textit{neighbourhood} of \( x \) (in \( M \)) if
	\[
		\exists r > 0, \mathcal D_r(x) \subset U \iff \exists r > 0, \mathcal B_r(x) \subset U
	\]
\end{definition}
\begin{definition}
	We say \( U \subset M \) is \textit{open} in \( M \), or that \( U \) is an \textit{open subset} of \( M \), if
	\[
		\forall x \in U, \exists r > 0, D_r(x) \subset U
	\]
	So \( U \) is a neighbourhood of all points in \( U \).
\end{definition}
\begin{example}
	\( \mathcal D_r(x), \mathcal B_r(x) \) are neighbourhoods of \( x \).
\end{example}
\begin{example}
	Let \( H = \qty{ z \in \mathbb C \colon \Im z \geq 0 } \).
	Let \( w \in H \) and \( \delta = \Im w \).
	If \( \delta > 0 \), then \( \mathcal D_\delta(w) \subset H \).
	If \( \delta = 0 \), then for any \( r \), \( \mathcal D_\delta(w) \not\subset H \).
	So \( H \) is not open.
\end{example}
\begin{lemma}
	Open balls are open.
\end{lemma}
\begin{proof}
	Let \( \mathcal D_r(x) \) be an open ball in a metric space \( M \).
	We need to show that
	\[
		\forall y \in \mathcal D_r(x), \exists \delta > 0, \mathcal D_\delta(y) \subset \mathcal D_r(x)
	\]
	So let \( y \in \mathcal D_r(x) \) and set \( \delta = r - d(x,y) \).
	Note that \( d(x,y) > 0 \), and by the triangle inequality,
	\[
		d(z,x) \leq d(z,y) + d(y,x) < \delta + (r-\delta) = r
	\]
	as required.
\end{proof}
\begin{corollary}
	Let \( M \) be a metric space, \( U \subset M \), \( x \in M \).
	Then \( U \) is a neighbourhood of \( x \) if and only if there exists an open subset \( V \) of \( M \) such that \( x \in V \subset U \).
\end{corollary}
\begin{proof}
	In the forward direction, there exists \( r > 0 \) such that \( \mathcal D_r(x) \subset U \), so let \( V = \mathcal D_r(x) \).
	Conversely, if \( V \) is open we can construct \( r > 0 \) such that \( \mathcal D_r(x) \subset V \subset U \).
	So \( U \) is a neighbourhood of \( x \).
\end{proof}

\subsection{Continuity and Convergence using Topology}
\begin{proposition}
	In a metric space \( M \), the following are equivalent.
	\begin{enumerate}[(i)]
		\item \( x_n \to x \);
		\item for all neighbourhoods \( U \) of \( x \) in \( M \), \( \exists N \in \mathbb N, \forall n \geq N, x_n \in U \);
		\item for all open subsets \( U \) of \( M \), \( \exists N \in \mathbb N, \forall n \geq N, x_n \in U \).
	\end{enumerate}
\end{proposition}
\begin{proof}
	First, (i) implies (ii).
	Let \( U \) be a neighbourhood of \( x \).
	Then by definition \( \exists \varepsilon > 0, \mathcal D_\varepsilon(x) \subset U \).
	Since \( x_n \to x \),
	\[
		\exists N \in \mathbb N, \forall n \geq N, x_n \in \mathcal D_\varepsilon(x)
	\]
	hence \( \forall n \geq N, x_n \in U \).

	Now we show (ii) implies (iii).
	This is clear since any open set \( U \) with \( x \in U \) is a neighbourhood of \( x \).

	Finally, (iii) implies (i).
	Fix \( \varepsilon > 0 \).
	By the above lemma, \( U = \mathcal D_\varepsilon(x) \) is open, and \( x \in U \).
	Then by (iii),
	\[
		\exists N \in \mathbb N, \forall n \geq n, x_n \in U
	\]
	hence \( d(x_n, x) < \varepsilon \).
\end{proof}
\begin{proposition}
	Let \( f \colon M \to M' \) be a function between metric spaces.
	\begin{enumerate}[(a)]
		\item The following are equivalent for all \( x \in M \).
		      \begin{enumerate}[(i)]
			      \item \( f \) is continuous at \( x \);
			      \item for all neighbourhoods \( V \) of \( f(x) \) in \( M' \), there exists a neighbourhood of \( x \) in \( M \) such that \( f(U) \subset V \);
			      \item for all neighbourhoods \( V \) of \( f(x) \) in \( M' \), \( f^{-1}(V) \) is a neighbourhood of \( x \) in \( M \).
		      \end{enumerate}
		\item The following are equivalent.
		      \begin{enumerate}[(i)]
			      \item \( f \) is continuous;
			      \item \( f^{-1}(V) \) is open in \( M \) for all open subsets \( V \) of \( M' \).
		      \end{enumerate}
	\end{enumerate}
\end{proposition}
\begin{proof}
	First, we show (a)(i) implies (a)(ii).
	Let \( V \) be a neighbourhood of \( f(x) \) in \( M' \).
	By definition, \( \exists \varepsilon > 0 \) such that \( \mathcal D_\varepsilon(f(x)) \subset V \).
	Since \( f \) is continuous at \( x \), there exists \( \delta > 0 \) such that \( f\qty(\mathcal D_\delta(x)) \subset \mathcal D_\varepsilon(f(x)) \).
	Then, \( U = D_\delta(x) \) is a neighbourhood of \( x \) in M, and \( f(U) \subset V \).

	Now, (a)(ii) implies (a)(iii).
	Let \( V \) be a neighbourhood of \( f(x) \) in \( M' \).
	By (ii), there exists a neighbourhood of \( x \) in \( M \) such that \( f(U) \subset V \).
	Then \( U \subset f^{-1}(V) \) and since \( U \) is a neighbourhood of \( x \) in \( M \), ther exists \( r > 0 \) such that \( \mathcal D_r(x) \subset U \subset f^{-1}(V) \)
	Thus, \( f^{-1}(V) \) is a neighbourhood of \( x \) in \( M \).

	Finally, (a)(iii) implies (a)(i)
	Given \( \varepsilon > 0 \), \( V = \mathcal D_\varepsilon(f(x)) \) is a neighbourhood of \( f(x) \) in \( V \).
	By (iii), \( f^{-1}(V) \) is a neighbourhood of \( x \) in \( M \).
	So \( \exists \delta > 0 \) such that \( \mathcal D_\delta(x) \subset f^{-1}(V) \).
	Thus, \( f\qty(\mathcal D_\delta(x)) \subset V = \mathcal D_\varepsilon(f(x)) \).

	Now, (b)(i) implies (b)(ii).
	Let \( V \) be open in \( M' \).
	So pick \( x \in f^{-1}(V) \).
	Then, \( f(x) \in V \).
	Since \( V \) is open, \( \exists \varepsilon > 0, \mathcal D_\varepsilon(f(x)) \subset V \).
	Since \( f \) is continuous at \( x \), \( \exists \delta > 0, f\qty(\mathcal D_\delta(x)) \subset \mathcal D_\varepsilon(f(x)) \).
	Then, \( \mathcal D_\delta(x) \subset f^{-1}\qty(\mathcal D_\varepsilon(f(x))) \subset f^{-1}(V) \).

	Finally, (b)(ii) implies (b)(i).
	Consider \( x \in M \).
	We must show \( f \) is continuous at \( x \).
	Let \( \varepsilon > 0 \).
	Consider the ball \( V = \mathcal D_\varepsilon(f(x)) \).
	This is open in \( M' \) by the above lemma.
	By (ii), \( f^{-1}(V) \) is open in \( M \).
	Further, \( x \in f^{-1}(V) \).
	So by definition, \( \exists \delta > 0, \mathcal D_\delta(x) \subset V \), which is exactly continuity as required.
\end{proof}

\begin{definition}
	The \textit{topology of a metric space} \( M \) is the family of all open subsets of \( M \).
\end{definition}
\begin{proposition}
	The topology of a metric space satisfies
	\begin{enumerate}[(i)]
		\item \( \varnothing \) and \( M \) are open;
		\item if \( U_i \) are open in \( M \) for \( i \in I \) (\( I \) may be countable or uncountable), then \( \bigcup_{i \in I} U_i \) is open in \( M \);
		\item if \( U, V \) are open then \( U \cap V \) is open.
	\end{enumerate}
\end{proposition}
