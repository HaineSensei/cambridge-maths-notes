\subsection{Additive categories}
In this section, we will study categories enriched over \( (\mathbf{AbGp}, \otimes, \mathbb Z) \); these are called \emph{additive} categories.
We will also consider other weaker enrichments: a category enriched over \( (\mathbf{Set}_\star, \wedge, 2) \) is called \emph{pointed}, and a category enriched over \( (\mathbf{CMon}, \otimes, \mathbb N) \), where \( \mathbf{CMon} \) is the category of commutative monoids, is called \emph{semi-additive}.

In a pointed category \( \mathcal C \), each \( \mathcal C(A, B) \) has a distinguished element 0, and all composites with zero morphisms are zero morphisms.
In a semi-additive category \( \mathcal C \), each \( \mathcal C(A, B) \) has a binary addition operation which is associative, commutative, and has an identity \( 0 \).
Composition in a semi-additive category is bilinear, so \( (f + g)(h + k) = fh + gh + fk + gk \) whenever the composites are defined.
In an additive category, each morphism \( f \in \mathcal C(A, B) \) has an additive inverse \( -f \in \mathcal C(A, B) \).
\begin{lemma}
    \begin{enumerate}
        \item For an object \( A \) in a pointed category \( \mathcal C \), the following are equivalent.
        \begin{enumerate}
            \item \( A \) is a terminal object of \( \mathcal C \).
            \item \( A \) is an initial object of \( \mathcal C \).
            \item \( 1_A = 0 : A \to A \).
        \end{enumerate}
        \item For objects \( A, B, C \) in a semi-additive category \( \mathcal C \), the following are equivalent.
        \begin{enumerate}
            \item there exist morphisms \( \pi_1 : C \to A \) and \( \pi_2 : C \to B \) making \( C \) into a product of \( A \) and \( B \);
            \item there exist morphisms \( \nu_1 : A \to C \) and \( \nu_2 : B \to C \) making \( C \) into a coproduct of \( A \) and \( B \);
            \item there exist morphisms \( \pi_1 : C \to A, \pi_2 : C \to B, \nu_1 : A \to C, \nu_2 : B \to C \) satisfying
            \[ \pi_1 \nu_1 = 1_A;\quad \pi_2 \nu_2 = 1_B;\quad \pi_1 \nu_2 = 0;\quad \pi_2 \nu_1 = 0;\quad \nu_1 \pi_1 + \nu_2 \pi_1 = 1_C \]
        \end{enumerate}
    \end{enumerate}
\end{lemma}
\begin{proof}
    In each part, as (a) and (b) are dual and (c) is self-dual, it suffices to prove the equivalence of (a) and (b).

    \emph{Part (i).}
    If \( A \) is terminal, then it has exactly one morphism \( A \to A \), so this must be the zero morphism.
    Conversely, if \( 1_A = 0 \), then \( A \) is terminal, as for any \( f : B \to A \), we have \( f = 1_A f = 0 f = 0 \), so the only morphism \( B \to A \) is the zero morphism.

    \emph{Part (ii).}
    If (a) holds, take \( \nu_1, \nu_2 \) to be defined by the first four equations in (c); it suffices to verify the last equation, \( \nu_1 \pi_1 + \nu_2 \pi_2 = 1_C \).
    Composing with \( \pi_1 \),
    \[ \pi_1 \nu_1 \pi_1 = 1_A \pi_1 + 0 \pi_2 = \pi_1 \]
    and similarly, composing with \( \pi_2 \) gives \( \pi_2 \).
    So by uniqueness of factorisations through limit cones, \( \nu_1 \pi_1 + \nu_2 \pi_2 \) must be the identity.
    Conversely, if (c) holds, given a pair \( f : D \to A \) and \( g : D \to B \), the morphism
    \[ h = \nu_1 f + \nu_2 g \]
    satisfies
    \[ \pi_1 h = 1_A f + 0 g = f;\quad \pi_2 h = 0 f + 1_A g = g \]
    giving a factorisation, and if \( h' \) also satisfies these equations, then
    \[ h' = (\nu_1 \pi_1 + \nu_2 \pi_2) h' = \nu_1 f + \nu_2 g = h \]
    so the factorisation is unique.
\end{proof}
In any category, an object which is both initial and terminal is called a \emph{zero object}, denoted \( 0 \).
An object that is a product and a coproduct of \( A \) and \( B \) is called a \emph{biproduct}, denoted \( A \oplus B \).
\begin{lemma}
    Let \( \mathcal C \) be a locally small category.
    \begin{enumerate}
        \item If \( \mathcal C \) has a zero object, then it has a unique pointed structure.
        \item Suppose \( \mathcal C \) has a zero object and has binary products and coproducts.
        Suppose further that for each pair \( A, B \in \ob \mathcal C \), the canonical morphism \( c : A + B \to A \times B \) defined by
        \[ \pi_i c \nu_j = \begin{cases}
            1 & \text{if } i = j \\
            0 & \text{if } i \neq j
        \end{cases} \]
        is an isomorphism.
        Then \( \mathcal C \) has a unique semi-additive structure.
    \end{enumerate}
\end{lemma}
We adopt the convention that morphisms into a product are denoted with column vectors, and morphisms out of a product are denoted with row vectors.
\begin{proof}
    \emph{Part (i).}
    The unique morphism \( 0 \to 0 \) is both the identity and a zero morphism.
    So for any two \( A, B : \ob \mathcal C \), the unique composite \( A \to 0 \to B \) must be the zero element of \( \mathcal C(A, B) \).
    We can define a pointed structure on \( \mathcal C \) in this way.

    \emph{Part (ii).}
    This technique is known as the \emph{Eckmann--Hilton argument}.
    Given \( f, g : A \rightrightarrows B \), we define the \emph{left sum} \( f +_\ell g \) to be the composite
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiQiBcXHRpbWVzIEIiXSxbMiwwLCJCK0IiXSxbMywwLCJCIl0sWzAsMSwiXFxiZWdpbntwbWF0cml4fWYgXFxcXCBnXFxlbmR7cG1hdHJpeH0iXSxbMSwyLCJjXnstMX0iXSxbMiwzLCJcXGJlZ2lue3BtYXRyaXh9MSYxXFxlbmR7cG1hdHJpeH0iXV0=
\[\begin{tikzcd}[ampersand replacement=\&]
	A \& {B \times B} \& {B+B} \& B
	\arrow["{\begin{pmatrix}f \\ g\end{pmatrix}}", from=1-1, to=1-2]
	\arrow["{c^{-1}}", from=1-2, to=1-3]
	\arrow["{\begin{pmatrix}1&1\end{pmatrix}}", from=1-3, to=1-4]
\end{tikzcd}\]
    and the \emph{right sum} \( f +_r g \) to be
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiQSBcXHRpbWVzIEEiXSxbMiwwLCJCK0IiXSxbMywwLCJCIl0sWzAsMSwiXFxiZWdpbntwbWF0cml4fTEgXFxcXCAxXFxlbmR7cG1hdHJpeH0iXSxbMSwyLCJjXnstMX0iXSxbMiwzLCJcXGJlZ2lue3BtYXRyaXh9ZiZnXFxlbmR7cG1hdHJpeH0iXV0=
\[\begin{tikzcd}[ampersand replacement=\&]
	A \& {A \times A} \& {B+B} \& B
	\arrow["{\begin{pmatrix}1 \\ 1\end{pmatrix}}", from=1-1, to=1-2]
	\arrow["{c^{-1}}", from=1-2, to=1-3]
	\arrow["{\begin{pmatrix}f&g\end{pmatrix}}", from=1-3, to=1-4]
\end{tikzcd}\]
    Note that \( (f +_\ell g)h = fh +_\ell gh \), since
    \[ \begin{pmatrix}
        f \\ g
    \end{pmatrix} h = \begin{pmatrix}
        fh \\ gh
    \end{pmatrix} \]
    and similarly,
    \[ k(f +_r g) = kf +_r kg \]
    So if we show that the two sums coincide, we obtain the required distributive laws.
    First, note that \( 0 : A \to B \) is a two-sided identity for both \( +_\ell \) and \( +_r \).
    For example, \( f +_\ell 0 = f \), since
    % https://q.uiver.app/#q=WzAsNSxbMCwwLCJBIl0sWzEsMSwiQiBcXHRpbWVzIEIiXSxbMiwwLCJCIl0sWzMsMSwiQiArIEIiXSxbNCwwLCJCIl0sWzAsMSwiXFxiZWdpbntwbWF0cml4fWYgXFxcXCAwXFxlbmR7cG1hdHJpeH0iLDJdLFswLDIsImYiXSxbMiwxLCJcXGJlZ2lue3BtYXRyaXh9MVxcXFwwXFxlbmR7cG1hdHJpeH0iXSxbMiwzLCJcXG51XzEiXSxbMSwzLCJjXnstMX0iLDJdLFsyLDQsIjFfQiJdLFszLDQsIlxcYmVnaW57cG1hdHJpeH0xJjFcXGVuZHtwbWF0cml4fSIsMl1d
\[\begin{tikzcd}[ampersand replacement=\&]
	A \&\& B \&\& B \\
	\& {B \times B} \&\& {B + B}
	\arrow["{\begin{pmatrix}f \\ 0\end{pmatrix}}"', from=1-1, to=2-2]
	\arrow["f", from=1-1, to=1-3]
	\arrow["{\begin{pmatrix}1\\0\end{pmatrix}}", from=1-3, to=2-2]
	\arrow["{\nu_1}", from=1-3, to=2-4]
	\arrow["{c^{-1}}"', from=2-2, to=2-4]
	\arrow["{1_B}", from=1-3, to=1-5]
	\arrow["{\begin{pmatrix}1&1\end{pmatrix}}"', from=2-4, to=1-5]
\end{tikzcd}\]
    commutes.
    Suppose we have morphisms \( f, g, h, k : A \to B \), and consider the composite
    % https://q.uiver.app/#q=WzAsNixbMCwwLCJBIl0sWzEsMCwiQSBcXHRpbWVzIEEiXSxbMiwwLCJBICsgQSJdLFszLDAsIkIgXFx0aW1lcyBCIl0sWzQsMCwiQiArIEIiXSxbNSwwLCJCIl0sWzAsMSwiXFxiZWdpbntwbWF0cml4fTFcXFxcMVxcZW5ke3BtYXRyaXh9Il0sWzEsMiwiY157LTF9Il0sWzIsMywiXFxiZWdpbntwbWF0cml4fWYmZ1xcXFxoJmtcXGVuZHtwbWF0cml4fSJdLFszLDQsImNeey0xfSJdLFs0LDUsIlxcYmVnaW57cG1hdHJpeH0xJjFcXGVuZHtwbWF0cml4fSJdXQ==
\[\begin{tikzcd}[ampersand replacement=\&]
	A \& {A \times A} \& {A + A} \& {B \times B} \& {B + B} \& B
	\arrow["{\begin{pmatrix}1\\1\end{pmatrix}}", from=1-1, to=1-2]
	\arrow["{c^{-1}}", from=1-2, to=1-3]
	\arrow["{\begin{pmatrix}f&g\\h&k\end{pmatrix}}", from=1-3, to=1-4]
	\arrow["{c^{-1}}", from=1-4, to=1-5]
	\arrow["{\begin{pmatrix}1&1\end{pmatrix}}", from=1-5, to=1-6]
\end{tikzcd}\]
    The composite of the first three factors is
    \[ \begin{pmatrix}
        f +_r g \\
        h +_r k
    \end{pmatrix} \]
    so the whole composite is \( (f +_r g) +_\ell (h +_r k) \).
    Evaluating from other end, we obtain
    \[ (f +_r g) +_\ell (h +_r k) = (f +_\ell h) +_r (g +_\ell k) \]
    This is known as the \emph{interchange law}.
    Substituting \( g = k = 0 \), we obtain \( f +_\ell k = f +_r k \).
    Substituting \( f = k = 0 \) (and dropping the subscripts) we obtain the commutative law \( g + h = h + g \).
    Substituting \( h = 0 \), we obtain the associativity law \( (f + g) + k = f + (g + k) \).

    For uniqueness, suppose we have some semi-additive structure \( + \) on \( \mathcal C \).
    Then \( \nu_1 \pi_1 + \nu_2 \pi_2 \) must be the inverse of \( c = \begin{pmatrix}
        1 & 0 \\ 0 & 1
    \end{pmatrix} : A + B \to A \times B \), since
    \[ \nu_1 \pi_1 c = \nu_1 \begin{pmatrix}
        1 & 0
    \end{pmatrix} = \begin{pmatrix}
        \nu_1 & 0
    \end{pmatrix};\quad \nu_2 \pi_2 c =\begin{pmatrix}
        0 & \nu_2
    \end{pmatrix} \]
    so
    \[ (\nu_1 \pi_1 + \nu_2 \pi_2) c = \begin{pmatrix}
        \nu_1 + 0 & 0 + \nu_2
    \end{pmatrix} = \begin{pmatrix}
        \nu_1 & \nu_2
    \end{pmatrix} = 1_{A + B} \]
    Hence the definitions of \( +_\ell \) and \( +_r \) both reduce to \( + \).
\end{proof}
Note that if \( \mathcal C \) and \( \mathcal D \) are semi-additive categories with finite biproducts, then a functor \( F : \mathcal C \to \mathcal D \) is semi-additive (that is, enriched over \( \mathbf{CMon} \)) if and only if it preserves either finite products or finite coproducts.
In particular, if \( F \) has either a left or right adjoint, then it is semi-additive, and the adjunction is enriched over \( \mathbf{CMon} \); the bijection \( \mathcal C(A, GB) \to \mathcal D(FA, B) \) is an isomorphism of commutative monoids, since the operations \( F(-) \) and \( (-) \epsilon_B \) both respect addition.

\subsection{Kernels and cokernels}
\begin{definition}
    Let \( f : A \to B \) be a morphism in a pointed category \( \mathcal C \).
    The \emph{kernel} of \( f \) is the equaliser of the pair \( (f, 0) \); dually the \emph{cokernel} is the coequaliser of \( (f, 0) \).
    A monomorphism that occurs as the kernel of a morphism is called \emph{normal}.
\end{definition}
In an additive category, the normal monomorphisms are precisely the regular monomorphisms, since the equaliser of \( (f, g) \) is the kernel of \( f - g \).
In \( \mathbf{Gp} \), all inclusions of subgroups are regular, but not all inclusions are normal, since a normal monomorphism corresponds to a normal subgroup.
In \( \mathbf{Set}_\star \), all surjections are regular epimorphisms, but \( (A, a_0) \to (B, b_0) \) is a normal epimorphism if \( f \) is bijective on elements not mapped to \( b_0 \).
We say that a morphism \( f : A \to B \) is a \emph{pseudomonomorphism} if its kernel is a zero morphism; that is, \( fg = 0 \) implies \( g = 0 \).
\begin{lemma}
    In a pointed category with kernels and cokernels, \( f : A \to B \) is normal monic if and only if \( f \cong \ker \coker f \).
\end{lemma}
\begin{proof}
    If \( f \cong \ker \coker f \), it is clearly normal.
    Now suppose \( f = \ker g \).
    Then \( g \) factors through the cokernel of \( f \), so \( g (\ker \coker f) = 0 \).
    Thus \( \ker coker f \leq f \) in \( \operatorname{Sub}(B) \).
    But \( (\coker f) f = 0 \), so \( f \leq \ker \coker f \), so they are isomorphic as subobjects of \( B \).
\end{proof}
\begin{corollary}
    In a pointed category with kernels and cokernels, the operations \( \ker \) and \( \coker \) induce an order-reversing bijection between isomorphism classes of normal subobjects and isomorphism classes of normal quotients of any object.
\end{corollary}
\begin{remark}
    For any morphism \( f : A \to B \) in such a category, \( \ker \coker f \) is the smallest normal subobject of \( B \) through which \( f \) factors.
\end{remark}

\subsection{Abelian categories}
\begin{definition}
    An \emph{abelian category} is an additive category with all finite limits and colimits.
    Equivalently, an abelian category is a category with a zero object, finite biproducts, kernels, and cokernels, such that all monomorphisms and epimorphisms are normal.
\end{definition}
\begin{example}
    \begin{enumerate}
        \item The category \( \mathbf{AbGp} \) is abelian; more generally, for any ring \( R \), the category \( \mathbf{Mod}_R \) is abelian.
        \item If \( \mathcal A \) is abelian and \( \mathcal C \) is small, then \( [\mathcal C, \mathcal A] \) is abelian, with all structures defined pointwise.
        \item If \( \mathcal A \) is abelian and \( \mathcal C \) is small and additive, then the category of additive functors \( \mathcal C \to \mathcal A \), denoted \( \operatorname{Add}(\mathcal C, \mathcal A) \), is also abelian, as it is closed under all of the structures on \( [\mathcal C, \mathcal A] \).
        Note that this covers the case of \( R \)-modules, as an additive category with a single object is a ring, and the category of modules over such a ring is isomorphic to the category of additive functors from this category to \( \mathbf{AbGp} \)
    \end{enumerate}
\end{example}
\begin{remark}
    If \( f : A \to B \) in an abelian category, then \( \ker \coker f \) is the smallest subobject \( I \rightarrowtail B \) through which \( f \) factors.
    This is called the \emph{image} of \( f \), denoted \( \Im f = \ker \coker f \).
    The other part of the factorisation \( A \to I \) is epic, as it cannot factor through the equaliser of any nonequal parallel pair \( I \rightrightarrows C \).
    Thus, it is also the smallest quotient of \( A \) through which \( f \) factors, so it is the \emph{coimage} of \( f \), given by \( \coker \ker f \).
    The composition \( A \twoheadrightarrow I \rightarrowtail B \) is the unique epi--mono factorisation of \( f \).
\end{remark}
To show that this factorisation is stable under pullback, it suffices to show that the pullback of an epimorphism in an abelian category is epic, as the corresponding statement for monomorphisms has already been shown.
\begin{lemma}[flattening lemma]
    Consider a square
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiQiJdLFsxLDEsIkQiXSxbMCwxLCJDIl0sWzAsMSwiZiJdLFsxLDIsImgiXSxbMCwzLCJnIiwyXSxbMywyLCJrIiwyXV0=
\[\begin{tikzcd}
	A & B \\
	C & D
	\arrow["f", from=1-1, to=1-2]
	\arrow["h", from=1-2, to=2-2]
	\arrow["g"', from=1-1, to=2-1]
	\arrow["k"', from=2-1, to=2-2]
\end{tikzcd}\]
    in an abelian category \( \mathcal A \).
    Its \emph{flattening} is the sequence
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJBIl0sWzEsMCwiQiBcXG9wbHVzIEMiXSxbMiwwLCJEIl0sWzAsMSwiXFxiZWdpbntwbWF0cml4fWZcXFxcZ1xcZW5ke3BtYXRyaXh9Il0sWzEsMiwiXFxiZWdpbntwbWF0cml4fWgmLWtcXGVuZHtwbWF0cml4fSJdXQ==
\[\begin{tikzcd}[ampersand replacement=\&]
	A \& {B \oplus C} \& D
	\arrow["{\begin{pmatrix}f\\g\end{pmatrix}}", from=1-1, to=1-2]
	\arrow["{\begin{pmatrix}h&-k\end{pmatrix}}", from=1-2, to=1-3]
\end{tikzcd}\]
    Then
    \begin{enumerate}
        \item the square commutes if and only if the composite of the flattening \( \begin{pmatrix}
            h & -k
        \end{pmatrix} \begin{pmatrix}
            f \\ g
        \end{pmatrix} \) is the zero morphism;
        \item the square is a pullback if and only if \( \begin{pmatrix}
            f \\ g
        \end{pmatrix} = \ker \begin{pmatrix}
            h & -k
        \end{pmatrix} \);
        \item the square is a pushout if and only if \( \begin{pmatrix}
            h & -k
        \end{pmatrix} = \coker \begin{pmatrix}
            f \\ g
        \end{pmatrix} \).
    \end{enumerate}
\end{lemma}
\begin{proof}
    \emph{Part (i).}
    The composite \( \begin{pmatrix}
        h & -k
    \end{pmatrix} \begin{pmatrix}
        f \\ g
    \end{pmatrix} \) is \( hf - kg \), so it vanishes if and only if the square commutes.

    \emph{Part (ii).}
    \( \begin{pmatrix}
        f \\ g
    \end{pmatrix} \) is the kernel of \( \begin{pmatrix}
        h \\ -k
    \end{pmatrix} \) if and only if
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDEsIkMiXSxbMCwxLCJmIl0sWzAsMiwiZyIsMl1d
\[\begin{tikzcd}
	A & B \\
	C
	\arrow["f", from=1-1, to=1-2]
	\arrow["g"', from=1-1, to=2-1]
\end{tikzcd}\]
    is universal among spans completing the cospan
    % https://q.uiver.app/#q=WzAsMyxbMSwwLCJCIl0sWzEsMSwiRCJdLFswLDEsIkMiXSxbMCwxLCJoIl0sWzIsMSwiayIsMl1d
\[\begin{tikzcd}
	& B \\
	C & D
	\arrow["h", from=1-2, to=2-2]
	\arrow["k"', from=2-1, to=2-2]
\end{tikzcd}\]
    into a commutative square.

    \emph{Part (iii).} Follows by duality, taking care of the asymmetric negation.
\end{proof}
\begin{corollary}
    In an abelian category \( \mathcal A \), epimorphisms are stable under pullback.
\end{corollary}
\begin{proof}
    Suppose we have a pullback square
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiQiJdLFsxLDEsIkQiXSxbMCwxLCJDIl0sWzAsMSwiZiJdLFsxLDIsImgiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMCwzLCJnIiwyXSxbMywyLCJrIiwyXV0=
\[\begin{tikzcd}
	A & B \\
	C & D
	\arrow["f", from=1-1, to=1-2]
	\arrow["h", two heads, from=1-2, to=2-2]
	\arrow["g"', from=1-1, to=2-1]
	\arrow["k"', from=2-1, to=2-2]
\end{tikzcd}\]
    By part (ii) of the above result, \( \begin{pmatrix}
        f \\ g
    \end{pmatrix} = \ker \begin{pmatrix}
        h & -k
    \end{pmatrix} \).
    But \( h \) is an epimorphism, so \( \begin{pmatrix}
        h & -k
    \end{pmatrix} \) is also an epimorphism.
    Thus \( \begin{pmatrix}
        h & -k
    \end{pmatrix} = \coker \begin{pmatrix}
        f \\ g
    \end{pmatrix} \), so the square is also a pushout.
    We show that \( g \) is a pseudoepimorphism; this suffices as \( \mathcal A \) is additive.
    Suppose we have \( \ell : C \to E \) with \( \ell g = 0 \).
    Then \( \begin{pmatrix}
        \ell & (B \xrightarrow 0 E)
    \end{pmatrix} \) factors uniquely through the pushout.
    % https://q.uiver.app/#q=WzAsNSxbMCwwLCJBIl0sWzEsMCwiQiJdLFsxLDEsIkQiXSxbMCwxLCJDIl0sWzIsMiwiRSJdLFswLDEsImYiXSxbMSwyLCJoIiwwLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzAsMywiZyIsMl0sWzMsMiwiayIsMl0sWzEsNCwiMCIsMCx7ImN1cnZlIjotMn1dLFszLDQsIlxcZWxsIiwyLHsiY3VydmUiOjJ9XSxbMiw0LCJtIl1d
\[\begin{tikzcd}
	A & B \\
	C & D \\
	&& E
	\arrow["f", from=1-1, to=1-2]
	\arrow["h", two heads, from=1-2, to=2-2]
	\arrow["g"', from=1-1, to=2-1]
	\arrow["k"', from=2-1, to=2-2]
	\arrow["0", curve={height=-12pt}, from=1-2, to=3-3]
	\arrow["\ell"', curve={height=12pt}, from=2-1, to=3-3]
	\arrow["m", from=2-2, to=3-3]
\end{tikzcd}\]
    But then \( mh = 0 \) and \( h \) is epic, so \( m = 0 \), giving \( \ell = mk = 0 \).
\end{proof}
Thus image factorisations are stable under pullback, and dually, under pushout.

\subsection{Exact sequences}
\begin{definition}
    A sequence% https://q.uiver.app/#q=WzAsNSxbMCwwLCJcXGNkb3RzIl0sWzEsMCwiQV97bisxfSJdLFsyLDAsIkFfbiJdLFszLDAsIkFfe24tMX0iXSxbNCwwLCJcXGNkb3RzIl0sWzAsMV0sWzEsMiwiZl97bisxfSJdLFsyLDMsImZfbiJdLFszLDRdXQ==
    \[\begin{tikzcd}
        \cdots & {A_{n+1}} & {A_n} & {A_{n-1}} & \cdots
        \arrow[from=1-1, to=1-2]
        \arrow["{f_{n+1}}", from=1-2, to=1-3]
        \arrow["{f_n}", from=1-3, to=1-4]
        \arrow[from=1-4, to=1-5]
    \end{tikzcd}\]
    in an abelian category \( \mathcal A \) is \emph{exact} at \( A_n \) if \( \ker f_n = \operatorname{im} f_{n+1} \).
    The entire sequence is said to be \emph{exact} if it is exact at every vertex.
\end{definition}
By duality, the sequence is exact at \( A_n \) if and only if \( \coker f_{n+1} = \operatorname{coim} f_n \).
\begin{example}
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCIwIl0sWzEsMCwiQSJdLFsyLDAsIkIiXSxbMywwLCJDIl0sWzAsMV0sWzEsMiwiZiJdLFsyLDMsImciXV0=
\[\begin{tikzcd}
	0 & A & B & C
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
\end{tikzcd}\]
    is exact at \( A \) if and only if \( f \) is monic, and is exact at \( A \) and \( B \) if and only if \( f = \ker g \).
\end{example}
\begin{definition}
    A functor between abelian categories \( F : \mathcal A \to \mathcal B \) is \emph{exact} if it preserves arbitrary exact sequences.
\end{definition}
This implies that \( F \) preserves kernels and cokernels, and the converse is true as images are defined in terms of kernels and cokernels.
\begin{definition}
    \( F \) is \emph{left exact} if it preserves exact sequences of the form
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCIwIl0sWzEsMCwiQSJdLFsyLDAsIkIiXSxbMywwLCJDIl0sWzAsMV0sWzEsMiwiZiJdLFsyLDMsImciXV0=
\[\begin{tikzcd}
	0 & A & B & C
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
\end{tikzcd}\]
\end{definition}
\begin{proposition}
    Let \( F : \mathcal A \to \mathcal B \) be a functor between abelian categories.
    Then
    \begin{enumerate}
        \item \( F \) is left exact if and only if it preserves all finite limits (and hence is additive);
        \item \( F \) is exact if and only if it is left exact and preserves epimorphisms.
    \end{enumerate}
\end{proposition}
\begin{proof}
    \emph{Part (i).}
    One direction is trivial as kernels are finite limits.
    Conversely, note that for any \( A, B \), the sequence
    % https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiQSJdLFsyLDAsIkEgXFxvcGx1cyBCIl0sWzMsMCwiQiJdLFs0LDAsIjAiXSxbMCwxXSxbMSwyLCJcXGJlZ2lue3BtYXRyaXh9MVxcXFwwXFxlbmR7cG1hdHJpeH0iXSxbMiwzLCJcXGJlZ2lue3BtYXRyaXh9MCYxXFxlbmR7cG1hdHJpeH0iXSxbMyw0XV0=
\[\begin{tikzcd}[ampersand replacement=\&]
	0 \& A \& {A \oplus B} \& B \& 0
	\arrow[from=1-1, to=1-2]
	\arrow["{\begin{pmatrix}1\\0\end{pmatrix}}", from=1-2, to=1-3]
	\arrow["{\begin{pmatrix}0&1\end{pmatrix}}", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
    is exact, and conversely, if we have an exact sequence
    % https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiQSJdLFsyLDAsIkMiXSxbMywwLCJCIl0sWzQsMCwiMCJdLFswLDFdLFsxLDIsImYiXSxbMiwzLCJnIl0sWzMsNF1d
\[\begin{tikzcd}
	0 & A & C & B & 0
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
    and either \( f \) is a split monomorphism or \( g \) is a split epimorphism, then \( C \cong A \oplus B \).
    Indeed, suppose that \( f \) is split, so \( rf = 1_A \).
    Then \( g = \coker f = \coker fr \) is the equaliser of \( (1_C-fr, 1_C) \), so it is the epic part of a splitting of the idempotent \( 1_C - fr \).
    If \( s : B \to C \) is the monic part of this splitting, then the four morphisms \( (r, g, f, s) \) satisfy the equations of a biproduct.
    So \( F \) maps
    % https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiQSJdLFsyLDAsIkEgXFxvcGx1cyBCIl0sWzMsMCwiQiJdLFs0LDAsIjAiXSxbMCwxXSxbMSwyLCJcXGJlZ2lue3BtYXRyaXh9MVxcXFwwXFxlbmR7cG1hdHJpeH0iXSxbMiwzLCJcXGJlZ2lue3BtYXRyaXh9MCYxXFxlbmR7cG1hdHJpeH0iXSxbMyw0XV0=
\[\begin{tikzcd}[ampersand replacement=\&]
	0 \& A \& {A \oplus B} \& B \& 0
	\arrow[from=1-1, to=1-2]
	\arrow["{\begin{pmatrix}1\\0\end{pmatrix}}", from=1-2, to=1-3]
	\arrow["{\begin{pmatrix}0&1\end{pmatrix}}", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
    to a sequence identifying \( F(A \oplus B) \) as \( FA \oplus FB \), and thus preserves biproducts.
    Hence \( F \) preserves all finite limits.

    \emph{Part (ii).}
    If \( F \) is left exact and preserves epimorphisms, then it preserves the exactness of sequences of the form
    % https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiQSJdLFsyLDAsIkMiXSxbMywwLCJCIl0sWzQsMCwiMCJdLFswLDFdLFsxLDIsImYiXSxbMiwzLCJnIl0sWzMsNF1d
\[\begin{tikzcd}
	0 & A & C & B & 0
	\arrow[from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow["g", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
    Thus it preserves kernels and cokernels.
\end{proof}

\subsection{The five lemma}
\begin{lemma}
    Suppose we have a commutative diagram in an abelian category
    % https://q.uiver.app/#q=WzAsMTAsWzAsMCwiQV8xIl0sWzEsMCwiQV8yIl0sWzIsMCwiQV8zIl0sWzMsMCwiQV80Il0sWzQsMCwiQV81Il0sWzQsMSwiQl81Il0sWzAsMSwiQl8xIl0sWzEsMSwiQl8yIl0sWzIsMSwiQl8zIl0sWzMsMSwiQl80Il0sWzAsMSwiZl8xIl0sWzEsMiwiZl8yIl0sWzIsMywiZl8zIl0sWzMsNCwiZl80Il0sWzQsNSwidV81Il0sWzAsNiwidV8xIl0sWzYsNywiZ18xIiwyXSxbNyw4LCJnXzIiLDJdLFs4LDksImdfMyIsMl0sWzksNSwiZ180IiwyXSxbMSw3LCJ1XzIiXSxbMiw4LCJ1XzMiXSxbMyw5LCJ1XzQiXV0=
\[\begin{tikzcd}
	{A_1} & {A_2} & {A_3} & {A_4} & {A_5} \\
	{B_1} & {B_2} & {B_3} & {B_4} & {B_5}
	\arrow["{f_1}", from=1-1, to=1-2]
	\arrow["{f_2}", from=1-2, to=1-3]
	\arrow["{f_3}", from=1-3, to=1-4]
	\arrow["{f_4}", from=1-4, to=1-5]
	\arrow["{u_5}", from=1-5, to=2-5]
	\arrow["{u_1}", from=1-1, to=2-1]
	\arrow["{g_1}"', from=2-1, to=2-2]
	\arrow["{g_2}"', from=2-2, to=2-3]
	\arrow["{g_3}"', from=2-3, to=2-4]
	\arrow["{g_4}"', from=2-4, to=2-5]
	\arrow["{u_2}", from=1-2, to=2-2]
	\arrow["{u_3}", from=1-3, to=2-3]
	\arrow["{u_4}", from=1-4, to=2-4]
\end{tikzcd}\]
    where the rows are exact sequences.
    Then,
    \begin{enumerate}
        \item if \( u_1 \) is epic and \( u_2, u_4 \) are monic, then \( u_3 \) is monic;
        \item if \( u_5 \) is monic and \( u_2, u_4 \) are spic, then \( u_3 \) is epic.
    \end{enumerate}
    Thus if \( u_1, u_2, u_4, u_5 \) are isomorphisms, \( u_3 \) is an isomorphism.
\end{lemma}
\begin{proof}
    By duality it suffices to show (i).
    We show \( u_3 \) is a pseudomonomorphism.
    Suppose we have \( x : C \to A_3 \) with \( u_3 x = 0 \).
    Then \( u_4 f_3 x = g_4 u_3 x = 0 \), so as \( u_4 \) is a monomorphism, \( f_3 x = 0 \).
    Hence \( x \) factors through the kernel of \( f_3 \), which is the image of \( f_2 \).
    Form the pullback of \( f_2 \) and \( x \) to obtain
    % https://q.uiver.app/#q=WzAsMTIsWzAsMSwiQV8xIl0sWzEsMSwiQV8yIl0sWzIsMSwiQV8zIl0sWzMsMSwiQV80Il0sWzAsMiwiQl8xIl0sWzEsMiwiQl8yIl0sWzIsMiwiQl8zIl0sWzMsMiwiQl80Il0sWzIsMCwiQyJdLFsxLDAsIkQiXSxbNCwyLCJCXzUiXSxbNCwxLCJBXzUiXSxbMCwxLCJmXzEiXSxbMSwyLCJmXzIiXSxbMiwzLCJmXzMiXSxbMCw0LCJ1XzEiXSxbNCw1LCJnXzEiLDJdLFs1LDYsImdfMiIsMl0sWzYsNywiZ18zIiwyXSxbMSw1LCJ1XzIiXSxbMiw2LCJ1XzMiXSxbMyw3LCJ1XzQiXSxbOCwyLCJ4Il0sWzksOCwieSJdLFs5LDEsInoiXSxbNywxMCwiZ180IiwyXSxbMywxMSwiZl80Il0sWzExLDEwLCJ1XzUiXV0=
\[\begin{tikzcd}
	& D & C \\
	{A_1} & {A_2} & {A_3} & {A_4} & {A_5} \\
	{B_1} & {B_2} & {B_3} & {B_4} & {B_5}
	\arrow["{f_1}", from=2-1, to=2-2]
	\arrow["{f_2}", from=2-2, to=2-3]
	\arrow["{f_3}", from=2-3, to=2-4]
	\arrow["{u_1}", from=2-1, to=3-1]
	\arrow["{g_1}"', from=3-1, to=3-2]
	\arrow["{g_2}"', from=3-2, to=3-3]
	\arrow["{g_3}"', from=3-3, to=3-4]
	\arrow["{u_2}", from=2-2, to=3-2]
	\arrow["{u_3}", from=2-3, to=3-3]
	\arrow["{u_4}", from=2-4, to=3-4]
	\arrow["x", from=1-3, to=2-3]
	\arrow["y", from=1-2, to=1-3]
	\arrow["z", from=1-2, to=2-2]
	\arrow["{g_4}"', from=3-4, to=3-5]
	\arrow["{f_4}", from=2-4, to=2-5]
	\arrow["{u_5}", from=2-5, to=3-5]
\end{tikzcd}\]
    Then \( y \) is also the pullback of this factorisation of \( x \) along \( \operatorname{coim} f_2 \), so \( y \) is an epimorphism as epimorphisms are stable under pullback.
    Then \( g_2 u_2 z = u_3 f_2 z = u_3 x y = 0 \).
    Thus \( u_2 z \) factors through \( \ker g_2 = \operatorname{im} g_1 \).
    Consider the pullback square
    % https://q.uiver.app/#q=WzAsNCxbMCwwLCJFIl0sWzEsMCwiRCJdLFsxLDEsIkJfMiJdLFswLDEsIkFfMSJdLFswLDEsInYiXSxbMSwyLCJ1XzIgeiJdLFswLDMsInUiLDJdLFszLDIsImdfMSB1XzEiLDJdXQ==
\[\begin{tikzcd}
	E & D \\
	{A_1} & {B_2}
	\arrow["v", from=1-1, to=1-2]
	\arrow["{u_2 z}", from=1-2, to=2-2]
	\arrow["w"', from=1-1, to=2-1]
	\arrow["{g_1 u_1}"', from=2-1, to=2-2]
\end{tikzcd}\]
    So \( v \) is epic, as it is the pullback of \( \operatorname{coim}(g_1 u_1) \).
    % https://q.uiver.app/#q=WzAsMTMsWzAsMSwiQV8xIl0sWzEsMSwiQV8yIl0sWzIsMSwiQV8zIl0sWzMsMSwiQV80Il0sWzAsMiwiQl8xIl0sWzEsMiwiQl8yIl0sWzIsMiwiQl8zIl0sWzMsMiwiQl80Il0sWzIsMCwiQyJdLFsxLDAsIkQiXSxbNCwyLCJCXzUiXSxbNCwxLCJBXzUiXSxbMCwwLCJFIl0sWzAsMSwiZl8xIl0sWzEsMiwiZl8yIl0sWzIsMywiZl8zIl0sWzAsNCwidV8xIl0sWzQsNSwiZ18xIiwyXSxbNSw2LCJnXzIiLDJdLFs2LDcsImdfMyIsMl0sWzEsNSwidV8yIl0sWzIsNiwidV8zIl0sWzMsNywidV80Il0sWzgsMiwieCJdLFs5LDgsInkiXSxbOSwxLCJ6Il0sWzcsMTAsImdfNCIsMl0sWzMsMTEsImZfNCJdLFsxMSwxMCwidV81Il0sWzEyLDksInYiXSxbMTIsMCwidyJdXQ==
\[\begin{tikzcd}
	E & D & C \\
	{A_1} & {A_2} & {A_3} & {A_4} & {A_5} \\
	{B_1} & {B_2} & {B_3} & {B_4} & {B_5}
	\arrow["{f_1}", from=2-1, to=2-2]
	\arrow["{f_2}", from=2-2, to=2-3]
	\arrow["{f_3}", from=2-3, to=2-4]
	\arrow["{u_1}", from=2-1, to=3-1]
	\arrow["{g_1}"', from=3-1, to=3-2]
	\arrow["{g_2}"', from=3-2, to=3-3]
	\arrow["{g_3}"', from=3-3, to=3-4]
	\arrow["{u_2}", from=2-2, to=3-2]
	\arrow["{u_3}", from=2-3, to=3-3]
	\arrow["{u_4}", from=2-4, to=3-4]
	\arrow["x", from=1-3, to=2-3]
	\arrow["y", from=1-2, to=1-3]
	\arrow["z", from=1-2, to=2-2]
	\arrow["{g_4}"', from=3-4, to=3-5]
	\arrow["{f_4}", from=2-4, to=2-5]
	\arrow["{u_5}", from=2-5, to=3-5]
	\arrow["v", from=1-1, to=1-2]
	\arrow["w", from=1-1, to=2-1]
\end{tikzcd}\]
    Thus \( u_2 z v = g_1 u_1 w \), and \( u_2 \) is monic, so \( zv = f_1 w \).
    Then \( xyv = f_2 zv = f_2 f_1 w = 0 \), and \( yv \) is epic, hence \( x = 0 \).
\end{proof}

\subsection{The snake lemma}
\begin{lemma}
    Consider a diagram in an abelian category
    % https://q.uiver.app/#q=WzAsOCxbMSwwLCJCXzEiXSxbMiwwLCJCXzIiXSxbMywwLCJCXzMiXSxbNCwwLCIwIl0sWzAsMSwiMCJdLFsxLDEsIkNfMSJdLFsyLDEsIkNfMiJdLFszLDEsIkNfMyJdLFswLDFdLFsxLDJdLFsyLDNdLFs0LDVdLFs1LDZdLFs2LDddLFswLDUsInZfMSJdLFsxLDYsInZfMiJdLFsyLDcsInZfMyJdXQ==
\[\begin{tikzcd}
	& {B_1} & {B_2} & {B_3} & 0 \\
	0 & {C_1} & {C_2} & {C_3}
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow["{v_1}", from=1-2, to=2-2]
	\arrow["{v_2}", from=1-3, to=2-3]
	\arrow["{v_3}", from=1-4, to=2-4]
\end{tikzcd}\]
    where the rows are exact and the squares commute.
    Then we obtain an exact sequence
    % https://q.uiver.app/#q=WzAsMTQsWzEsMSwiQl8xIl0sWzIsMSwiQl8yIl0sWzMsMSwiQl8zIl0sWzQsMSwiMCJdLFswLDIsIjAiXSxbMSwyLCJDXzEiXSxbMiwyLCJDXzIiXSxbMywyLCJDXzMiXSxbMSwwLCJcXG9wZXJhdG9ybmFtZXtLZXJ9IHZfMSJdLFsyLDAsIlxcb3BlcmF0b3JuYW1le0tlcn12XzIiXSxbMywwLCJcXG9wZXJhdG9ybmFtZXtLZXJ9dl8zIl0sWzEsMywiXFxvcGVyYXRvcm5hbWV7Q29rZXJ9dl8xIl0sWzIsMywiXFxvcGVyYXRvcm5hbWV7Q29rZXJ9dl8yIl0sWzMsMywiXFxvcGVyYXRvcm5hbWV7Q29rZXJ9IHZfMyJdLFswLDFdLFsxLDJdLFsyLDNdLFs0LDVdLFs1LDZdLFs2LDddLFswLDUsInZfMSJdLFsxLDYsInZfMiJdLFsyLDcsInZfMyJdLFs4LDldLFs5LDEwXSxbMTAsMTEsInMiXSxbMTEsMTJdLFsxMiwxM10sWzgsMF0sWzksMV0sWzEwLDJdLFs1LDExXSxbNiwxMl0sWzcsMTNdXQ==
\[\begin{tikzcd}
	& {\operatorname{Ker} v_1} & {\operatorname{Ker}v_2} & {\operatorname{Ker}v_3} \\
	& {B_1} & {B_2} & {B_3} & 0 \\
    & & \ar[draw=none]{d}[name=X, anchor=center]{} \\
	0 & {C_1} & {C_2} & {C_3} \\
	& {\operatorname{Coker}v_1} & {\operatorname{Coker}v_2} & {\operatorname{Coker} v_3}
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
	\arrow[from=4-1, to=4-2]
	\arrow[from=4-2, to=4-3]
	\arrow[from=4-3, to=4-4]
	\arrow["{v_1}"{pos=0.7}, from=2-2, to=4-2]
	\arrow["{v_2}"{pos=0.7}, from=2-3, to=4-3]
	\arrow["{v_3}"{pos=0.7}, from=2-4, to=4-4]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=5-2, to=5-3]
	\arrow[from=5-3, to=5-4]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-3, to=2-3]
	\arrow[from=1-4, to=2-4]
	\arrow[from=4-2, to=5-2]
	\arrow[from=4-3, to=5-3]
	\arrow[from=4-4, to=5-4]
    \arrow[from=1-4, to=5-2, "s", rounded corners,
      to path={ -- ([xshift=2ex]\tikztostart.east)
                |- ([yshift=4ex]X.center) \tikztonodes
                -| ([xshift=-2ex]\tikztotarget.west)
                -- (\tikztotarget)}]
\end{tikzcd}\]
\end{lemma}
