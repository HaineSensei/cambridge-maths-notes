\subsection{Primitive roots of unity}
\begin{lemma}
	Let \( C \) be a cyclic group of order \( n > 1 \).
	Let \( a \in \mathbb Z \) be coprime with \( n \), also written \( (a,n) = 1 \).
	Then the map \( [a] \colon C \to C \) given by \( [a](g) = g^a \) is an automorphism of \( C \), and the map \( \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \to \Aut(C) \) defined by \( a \mapsto [a] \) is an isomorphism.
\end{lemma}
\begin{proof}
	\( [a] \) is clearly a homomorphism, and since \( a \) is coprime to \( n \), it is an automorphism since there exists \( b \) such that \( ab \) is congruent to 1 modulo \( n \).
	Hence, there is an injection \( \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \to \Aut(C) \) given by \( a \mapsto [a] \), and it is a homomorphism.
	If \( \varphi \in \Aut(C) \) and \( g \) is a generator for \( C \), \( \varphi(g) = g^a \) for some \( a \in \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \).
	So \( \varphi = [a] \), and in particular, the map is an isomorphism.
\end{proof}
Let \( K \) be a field and \( n \geq 1 \).
We define \( \bm \mu_n(K) = \qty{x \in K \mid x^n = 1} \) for the group (under multiplication) of \( n \)th roots of unity in \( K \).
This is a finite subgroup of \( K^\times \), hence it is cyclic.
The order of any element divides \( n \), so it has order dividing \( n \).

We say that \( \zeta \in \bm \mu_n(K) \) is a \emph{primitive} \( n \)th root of unity if its order is exactly \( n \).
Such a \( \zeta \) exists if and only if \( \bm \mu_n(K) \) has \( n \) elements, and then \( \zeta \) is a generator for the group.
In particular, \( f = T^n - 1 \) has \( n \) distinct roots, \( \zeta_i \) for \( i \in \qty{0, \dots, n-1} \), and hence it is separable.
In general, \( f = T^n - 1 \) is separable if and only if \( f \) is coprime with \( f' = nT^{n-1} \), which holds if and only if \( n \neq 0 \).
In this section, we assume that the characteristic of \( K \) is zero or is a positive number \( p \) that does not divide \( n \), so \( f \) is separable.

Let \( L / K \) be a splitting field for \( T^n - 1 \).
This is Galois since \( f \) is separable, so we can define \( G = \Gal(L/K) \).
Then \( \abs{\bm \mu_n(L)} = n \), and so there exists a primitive \( n \)th root of unity \( \zeta = \zeta_n \in L \).
Such an \( L \) is called a \emph{cyclotomic extension}.
\begin{proposition}
	\( L = K(\zeta) \).
	There exists an injective homomorphism \( \chi = \chi_n \colon \Gal(L/K) \to \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \) such that \( \chi(\sigma) = a \) implies \( \sigma(\zeta) = \zeta^a \).
	In particular, \( G \) is abelian.
	\( \chi \) is an isomorphism if and only if \( G \) acts transitively on the set of primitive roots of unity in \( L \).
\end{proposition}
The homomorphism \( \chi \) is called the \emph{cyclotomic character}.
\begin{proof}
	\( \bm \mu_n(L) \) is cyclic and generated by \( \zeta \), so the roots of \( T^n - 1 \) are the powers of \( \zeta \), so \( L = K(1,\zeta,\zeta^2,\dots,\zeta^{n-1}) = K(\zeta) \).
	Consider the action of \( G \) on \( L \).
	This action permutes \( \bm \mu_n(L) \), and if \( \zeta, \zeta' \in \bm \mu_n(L) \) and \( \sigma \in G \), then \( \sigma(\zeta\zeta) = \sigma(\zeta)\sigma(\zeta') \), so \( \sigma \) acts as an automorphism of \( \bm \mu_n(L) \).
	\( \sigma(\zeta) = \zeta \) if and only if \( \sigma \) is the identity because \( L = K(\zeta) \).
	This gives an injective homomorphism \( G \hookrightarrow \Aut \bm \mu_n(L) \simeq \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \).

	\( \zeta_n^a \) is primitive if and only if \( a \) is coprime to \( n \).
	Therefore the set of primitive \( n \)th roots of unity is \( \qty{\zeta^a \mid a \in \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times} \), which by the previous part, is the orbit of \( \zeta \) under \( G \).
	The map is surjective if and only if there is one orbit, so the result follows.
\end{proof}

\subsection{Cyclotomic polynomials}
\begin{definition}
	Let \( K \) have characteristic zero or a prime \( p \) that does not divide \( n \).
	The \emph{\( n \)th cyclotomic polynomial} is
	\[ \Phi_n(t) = \prod_{a \in \faktor{\mathbb Z}{n\mathbb Z}} (T - \zeta_n^a) \]
	in a splitting field \( L \) of \( T^n - 1 \).
\end{definition}
This is the polynomial where the roots are the primitive \( n \)th roots of unity.
As \( G \) permutes the primitive \( n \)th roots of unity in \( L \), \( \Phi_n \) has coefficients in \( L^G[T] = K[T] \).
The last part of the above proposition shows that \( \chi \) is surjective if and only if \( \Phi_n \in K[T] \) is irreducible.

\( x \in L \) satisfies \( x^n - 1 = 0 \) if and only if \( x \) is a primitive \( d \)th root of unity for some unique \( d \mid n \).
Hence \( T^n - 1 = \prod_{d \mid n} \Phi_d \), since the sets of roots are equal.
In particular, we could have inductively defined the cyclotomic polynomials by \( \Phi_n = \frac{T^n - 1}{\prod_{d \mid n, d \neq n} \Phi_d} \).
This shows that the \( \Phi_n \) do not depend on the choice of field \( K \), since \( \Phi_n \) is the image in \( K[T] \) of a polynomial in \( \mathbb Z[T] \).

For example, \( \Phi_p = \frac{T^p - 1}{T - 1} = T^{p-1} + T^{p-2} + \dots + \dots + T + 1 \).
We also have \( \Phi_1 = T - 1 \) and \( \Phi_{p^n}(T) = \frac{T^{p^n} - 1}{T^{p^{n-1}} - 1} = \Phi_p(T^{p^{n-1}}) \).
We have \( \deg \Phi_n = \abs{\qty(\faktor{\mathbb Z}{n\mathbb Z})^\times} = \varphi(n) \) where \( \varphi \) is the Euler totient function.
\begin{theorem}[rationals]
	Let \( K = \mathbb Q \).
	Then \( \chi_n \) is an isomorphism for all \( n > 1 \).
	In particular, \( [\mathbb Q(\zeta_n) : \mathbb Q] = \varphi(n)] \), and \( \Phi_n \) is irreducible over \( \mathbb Q \).
\end{theorem}
\begin{proof}
	The statements in the theorem are all equivalent by the previous results, so it suffices to prove that \( \Phi_n \) is irreducible over \( \mathbb Q \).
	If \( n \) is prime, we have already proven its irreducibility by Eisenstein's criterion and Gauss' lemma.
	We can easily extend this to the case where \( n \) is a prime power.
	
	Note that \( \chi_n \) is an isomorphism if for all primes \( p \nmid n \), the residue class of \( p \in \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \) is in the image of \( \chi \), by factorising \( a \) as a product of primes if \( a \) is coprime to \( n \).
	Let \( f \) be the minimal polynomial of \( \zeta \) over \( \mathbb Q \), and let \( g \) be the minimal polynomial of \( \zeta^p \) over \( \mathbb Q \).
	If \( f = g \), then \( \zeta^p \) lies in the orbit of \( \Gal(L/K) \) on \( \zeta \), so \( p \) lies in the image of \( \chi \) as required.
	Otherwise, \( f \) and \( g \) are coprime, and they divide \( T^n - 1 \) so \( fg \mid T^n - 1 \).
	As \( \zeta \) is a root of \( g(T^p) \), we have \( f \mid g(T^p) \).
	Reducing modulo \( p \), \( \overline f \in \mathbb F_p[T] \) divides \( \overline{g(T^p)} \in \mathbb F_p[T] \).
	But since we are in a field of characteristic \( p \), \( \overline{g(T^p)} = \overline g(T)^p \).
	Now, \( \overline f \) and \( \overline g \) divide \( T^n - 1 \) in \( \mathbb F_p[T] \), which is separable because \( p \nmid n \).
	So \( \overline f \mid \overline g^p \), so \( \overline f \mid \overline g \).
	But then \( \overline f^2 \mid \overline f \overline g \mid T^n - 1 \), contradicting separability of \( \overline f \).
\end{proof}
Therefore, the minimal polynomial of \( e^{\frac{2\pi i}{n}} \) over \( \mathbb Q \) is \( \Phi_n \).
\begin{theorem}[finite fields]
	Let \( K = \mathbb F_p \), and let \( n \) be coprime to \( p \).
	Let \( L \) be a splitting field for \( T^n - 1 \).
	Then \( \chi_n \) is an isomorphism from \( \Gal(L/G) \) to \( \genset{p} \leq \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \), the subgroup generated by the residue class of \( p \), and \( \chi_n(\varphi_p) = p \mod n \) where \( \varphi_p \) is the Frobenius endomorphism \( x \mapsto x^p \), which is a generator of \( \Gal(L/K) \).
	Further, \( [L:K] = r \), where \( r \) is the order of \( p \) modulo \( n \).
	Finally, \( \varphi_p \) has cycle type \( (r,\dots,r) \) acting as a permutation of the roots of the cyclotomic polynomial \( \Phi_n \), which are the primitive \( n \)th roots of unity.
\end{theorem}
\begin{proof}
	Since \( \varphi_p(\zeta) = \zeta^p \) and \( L = K(\zeta) \), by definition of \( \chi_n \), we have \( \chi_n(\varphi_p) = p \), or more precisely, \( p \mod n \).
	In particular, \( \chi_n(G) = \genset p \), and as this is a Galois extension, \( [L:K] = \abs{G} = \abs{\genset{g}} = r \).
	For the last part, notice that if \( a \) and \( n \) are coprime, \( \varphi_p^k(\zeta^a) = \zeta^a \) holds if and only if \( \varphi_p^k(\zeta) = \zeta \), or equivalently, \( r \mid k \).
	So the orbits of \( \varphi_p \) on the set \( \qty{\zeta_n^a \mid (a,n) = 1} \), which is the set of roots of \( \Phi_n \), all have length \( r \).
\end{proof}
\begin{remark}
	This almost gives another proof of the irreducibility of the cyclotomic polynomials \( \Phi_n \) over \( \mathbb Q \).
	By reduction modulo \( p \), \( \Gal(\Phi_n/\mathbb Q) \) contains \( \Gal(\Phi_n/\mathbb F_p) \) as a subgroup, up to conjugacy by elements of \( S_{\varphi(n)} \).
	It is not difficult to show that in fact \( \chi_n(\Gal(\Phi_n/\mathbb Q)) \supseteq \chi_n(\Gal(\Phi_n/\mathbb F_p)) = \genset{p} \).
	As this holds for all primes \( p \) not dividing \( n \), \( \chi_n(\Gal(\Phi_n/\mathbb Q)) = \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \).
\end{remark}
\begin{remark}
	The last part of the above theorem implies that over \( \mathbb F_p \), the cyclotomic polynomial \( \Phi_n \) factors as a product of irreducibles of degree \( r \).
	This depends only on the value of \( p \) modulo \( n \).
	In general, for a polynomial with integer coefficients \( f \in \mathbb Z[T] \), its factorisation modulo \( p \) does not follow an obvious pattern.

	Answering this question is part of the Langlands Programme, a large area of research in modern number theory.
	The case where there is such a congruence pattern turns out to be when \( \Gal(f/\mathbb Q) \) is abelian.
	This study is known as class field theory, which is studied in Part III.
\end{remark}

\subsection{Quadratic reciprocity}
The following theorem is from II Number Theory.
This theorem has several hundred proofs, and this particular one follows from the above theory on cyclotomic polynomials.

Let \( p \) be an odd prime and \( a \) an integer coprime to \( p \).
Then the \emph{Legendre symbol} \( \qty(\frac a p) \) is defined by
\[ \qty(\frac a p) = \begin{cases}
	+1 & \text{if } a \text{ is a square mod } p \\
	-1 & \text{otherwise}
\end{cases} \]
Euler's formula for the Legendre symbol is
\[ \qty(\frac a p) \equiv a^{\frac{p-1}{2}} \mod p \]
Let \( q \) be another odd prime, and consider the case \( n = q \) in the above discussion, so \( L = K(\zeta_q) \) is a splitting field for \( f = T^q - 1 = (T - 1) \Phi_q \).
On roots of \( f \) in \( L \), the Frobenius map \( \varphi_p \) has cycle type \( (1, r, \dots, r) \).
There are \( \frac{q-1}{r} \)-many \( r \)-cycles.
The sign of the permutation \( \varphi_p \) is \( (-1)^{(r-1) \frac{q-1}{r}} = (-1)^{\frac{q-1}{r}} \) since \( q \) is odd.
Note that \( 2 \mid \frac{q-1}{r} \) holds if and only if \( r \mid \frac{q-1}{2} \), or equivalently, \( p^{\frac{q-1}{2}} \equiv 1 \mod 2 \).
This is in the form of Euler's formula for the Legendre symbol.
So the sign of \( \varphi_p \) is exactly \( \qty(\frac p q) \).

Since \( G = \genset{\varphi_p} \), the sign of \( \varphi_p \) is \( +1 \) if and only if \( G \subseteq A_q \) since \( q = \deg f \).
This holds if and only if \( \mathrm{Disc}(f) \) is a square in \( \mathbb F_p \).
\begin{lemma}
	Let \( f = \prod (T - x_i) \) over some field.
	Then \( \mathrm{Disc}(f) = (-1)^{\frac{d(d-1)}{2}} \prod f'(x_i) \).
	where \( d = \deg f \).
\end{lemma}
This lemma can be shown directly from the definition of the discriminant.
We use the above lemma with \( f = T^q - 1 = \prod_{a=0}^{q-1}(T - \zeta_q^n \) and \( f' = qT^{q-1} \) to find
\[ \mathrm{Disc}(f) = (-1)^{\frac{q(q-1)}{2}} \prod_{a=0}^{q-1} q \zeta_q^{a(q-1)} = (-1)^{\frac{q-1}{2}} q^q \zeta_q^{(q-1)\frac{q(q-1)}{2}} = (-1)^{\frac{q-1}{2}} q^q \]
since \( q \) is odd.
Hence, by the fact that \( \qty(\frac{-1}{p}) = (-1)^{\frac{p-1}{2}} \),
\[ \qty(\frac p q) = \qty(\frac{\mathrm{Disc}(f)}{p}) = \qty(\frac{(-1)^{\frac{q-1}{2}}q}{p}) = \qty(\frac{q}{p}) (-1)^{\frac{(p-1)(q-1)}{4}} \]
which is the quadratic reciprocity law.

\subsection{Construction of regular polygons}
\begin{lemma}
	If \( m \) is a positive integer such that \( 2^m + 1 \) is prime, then \( m \) is a power of two.
\end{lemma}
\begin{proof}
	If \( q \) is odd, \( 2^{qr} + 1 = (2^r + 1)(2^{qr - r} - 2^{qr - 2r} + \dots + 1) \), which is a nontrivial factorisation.
\end{proof}
Ruler and compass construction of a regular \( n \)-gon for \( n \geq 3 \) is equivalent to constructing the real number \( \cos(\frac{2\pi}{n}) \).
\begin{theorem}[Gauss]
	A regular \( n \)-gon is contructible if and only if \( n \) is a power of two multiplied by a product of distinct primes of the form \( 2^{2^k} + 1 \).
\end{theorem}
\begin{remark}
	Let \( F_k = 2^{2^k} + 1 \) be the \( k \)th \emph{Fermat number}.
	\( F_1 = 5 \), \( F_2 = 17 \), \( F_3 = 257 \), and \( F_4 = 65537 \) are all prime.
	Fermat conjectured that all \( F_k \) are prime.
	This is false; Euler proved that \( F_5 = 641 \cdot 6700417 \).
	Many Fermat numbers are known to be composite, and no more have been found to be prime.
\end{remark}
\begin{proof}
	Recall that a real number \( x \in \mathbb R \) is constructible if and only if there is a sequence of fields \( \mathbb Q = K_0 \subset K_1 \subset \dots \subset K_n \) such that \( x \in K_n \) and \( [K_{i+1} : K_i] = 2 \).
	In particular, if \( x \) is constructible, \( [\mathbb Q(x) : \mathbb Q] = \deg_{\mathbb Q}(x) \) is a power of two.
	Note that
	\[ \cos\qty(\frac{2\pi}{n}) = \frac{1}{2} \qty(\zeta_n + \zeta_n^{-1}) \implies \zeta_n^2 - 2x\zeta_n + 1 = 0 \]
	Since \( x \in \mathbb R \) and \( \zeta_n \not\in \mathbb R \) (for \( n \geq 3 \)), \( [\mathbb Q(\zeta_n) : \mathbb Q(x)] = 2 \).
	If \( x \) is constructible, then \( [\mathbb Q(\zeta_n):\mathbb Q] \) is a power of two.
	But \( [\mathbb Q(\zeta_n):\mathbb Q] = \varphi(n) \).

	Let \( n = \prod_{i=1}^r p_i^{e_i} \) be the prime factorisation of \( n \).
	Then \( [\mathbb Q(\zeta_n):\mathbb Q] = \prod_{i=1}^r p_i^{e_i - 1}(p-1) \).
	This is a power of two if and only if for all odd \( p_i \), we have \( e_i = 1 \) and \( p - 1 \) is a power of two.
	By the previous lemma, \( \varphi(n) \) is a power of two if and only if \( n \) is of the required form.

	Now suppose \( n \) is of the required form, so \( \varphi(n) = 2^m \).
	\( \mathbb Q(\zeta_n) / \mathbb Q \) is Galois, with Galois group \( G = \simeq \qty(\faktor{\mathbb Z}{n\mathbb Z})^\times \), which has \( 2^m \) elements.
	There exist subgroups \( G = H_0 \supset H_1 \supset \dots \supset H_m = 1 \) such that \( [H_i : H_{i+1}] = 2 \).
	Indeed, as \( 2 \mid 2^m \), by Cauchy's theorem there exists an element \( \sigma \in G \) of order 2, assuming \( G \) is not the trivial group.
	Take \( H_{m-1} = \genset{\sigma} \), and then consider \( \faktor{G}{\genset{\sigma}} \), which contains a subgroup of order 2 by the same argument; we can proceed inductively.
	Then the tower of fixed fields \( K_i = \mathbb Q(\zeta_n)^{H_i} \) is a tower of quadratic extensions by the Galois correspondence.
\end{proof}
