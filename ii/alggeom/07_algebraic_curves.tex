\subsection{Curves}
\begin{definition}
    A \emph{curve} is a variety of dimension 1.
\end{definition}
For our purposes, a curve is taken to mean a smooth irreducible projective variety of dimension 1.
By convention, a curve \( C \) implicitly has an expression as \( \mathbb V(I) \subseteq \mathbb P^n \), but this ambient space will not play an important role.
\begin{example}
    Let \( f_d \in \mathbb C[X, Y, Z] \) be homogeneous of degree \( d \).
    For almost all choices of coefficients, \( \mathbb V(f_d) \) is a (smooth irreducible projective) curve.
    We will show that for \( d, d' \geq 2 \), \( \mathbb V(f_d) \) and \( \mathbb V(f_{d'}) \) are never isomorphic.
\end{example}
\begin{proposition}
    Let \( C \) be a curve, and let \( D \subsetneq C \) be a proper Zariski closed subset.
    Then \( D \) is a finite union of points.
\end{proposition}
\begin{proof}
    It suffices to prove this for irreducible affine curves \( V \subseteq \mathbb A^n \).
    Let \( W \subsetneq V \) be a proper irreducible closed subset; we will show this is a single point.
    By the Nullstellensatz, there is a strict containment \( I(V) \subsetneq I(W) \).
    
    If \( t \in \mathbb C[W] \setminus \mathbb C \), we can use this to produce an element \( y \in \mathbb C[V] \) as follows.
    \( \varphi \colon W \hookrightarrow V \) gives the pullback map \( \varphi^\star \colon C[V] \to C[W] \) which is a surjection.
    Take any \( y \) such that \( \varphi^\star(y) = t \).

    We can also take \( x \in \mathbb C[V] \) such that \( \varphi^\star(x) = 0 \), so \( x \not\in \mathbb C \).
    One can show that \( x, y \) are algebraically independent in \( \mathbb C(V) \), as \( t \) is transcendental.
    This gives two algebraically independent elements of \( C(V) \), which has transcendence degree 1.
    So no such \( t \) can exist, so \( \mathbb C[W] = \mathbb C \).
    Therefore \( W \) is a point.
\end{proof}
Recall that if \( V \) is an irreducible variety, it has a coordinate ring (if it is affine), a function field, a local ring at each point, and the maximal ideal of functions vanishing at the given point in the local ring.
These can be specialised in the case of curves.
Note that if \( C \) is a smooth irreducible projective curve, there exists \( t \in \mathbb C(V) \) such that \( \faktor{\mathbb C(V)}{\mathbb C(t)} \) is finite.
\begin{theorem}
    Let \( P \) be a smooth point of an irreducible curve \( V \).
    Then, the ideal \( \mathfrak m_P \trianglelefteq \mathcal O_{V,P} \) is principal.
\end{theorem}
A generator \( \pi_P \) of \( \mathfrak m_P \) is called a \emph{local parameter}, a \emph{coordinate}, or a \emph{uniformiser}.
\begin{proof}
    We assume \( P \) lies in the affine patch \( V_0 \) of \( V \).
    By changing coordinates, we can set \( P = 0 \in \mathbb A^n \).
    \begin{align*}
        \mathbb C[V_0] &= \faktor{\mathbb C[X_1, \dots, X_n]}{I(V_0)} = \mathbb C[x_1, \dots, x_n];\\
        \mathcal O_P &= \mathcal O_{V_0,P} = \qty{\frac{f}{g} \mid f, g \in \mathbb C[V_0], g \not\in (x_1, \dots, x_n)}\\
        \mathfrak m_P &= \qty{\frac{f}{g} \mid f \in (x_1, \dots, x_n), g \not\in (x_1, \dots, x_n)} = x_1 \mathcal O_P + \dots + x_n \mathcal O_P \subseteq \mathcal O_P
    \end{align*}
    where \( x_i \) is the image of \( X_i \) under the quotient map.
    More generally, if \( J \trianglelefteq \mathcal O_P \) is any ideal, \( \frac{f}{g} \in J \) if and only if \( f \in J \).
    Therefore,
    \[ J = \qty{\frac{f}{g} \mid f \in J \cap \mathbb C[V_0], g \in \mathbb C[V_0], g(P) \neq 0} \]
    In particular, \( J \) is finitely generated.
    
    Since \( P \) is smooth, \( T_{V_0,P}^{\text{aff}} \) is a line, and by changing coordinates, \( T_{V,P} = \qty{X_2 = X_3 = \dots = X_n = 0} \).
    We claim that \( x_1 \) generates \( \mathfrak m_P \).
    Since \( T_{V,P} \) is cut out by linearisations at \( P = 0 \) of elements in \( I(V_0) \), there exist functions \( f_2, \dots, f_n \in I(V_0) \) such that \( f_j = X_j - h_j \) where \( h_j \) has no terms of degree less than 2.
    In \( \mathcal O_P \),
    \[ x_j = h_j(x_1, \dots, x_n) \in (x_1^2, x_1 x_2, \dots, x_n^2) = \mathfrak m_P^2 \]
    Thus, \( \mathfrak m_P = \sum_{j=1}^n x_i \mathcal O_P = x_1 \mathcal O_P + \mathfrak m_P^2 \).
    The result that \( \mathfrak m_P \) is generated by \( x_1 \) follows from Nakayama's lemma.
    \begin{lemma}[Nakayama]
        Let \( R \) be a ring, let \( M \) be a finitely generated \( R \)-module, and let \( J \trianglelefteq R \) be an ideal.
        Then,
        \begin{enumerate}
            \item if \( JM = M \), there exists \( r \in J \) such that \( (1+r)M = 0 \); and
            \item if \( N \leq M \) is a submodule such that \( JM + N = M \), then there exists \( r \in J \) such that \( (1+r)M \subseteq N \).
        \end{enumerate}
    \end{lemma}
    % proof in notes, not examinable or important
    % acts like the inverse/implicit function theorem
    Let
    \[ R = \mathcal O_L \supseteq J = \mathfrak m_P = M \supseteq N = (x_1) \]
    and apply part (ii) of Nakayama's lemma to conclude.
\end{proof}
\begin{corollary}
    Let \( V = \mathbb V(f) \subseteq \mathbb A^2 \) be an irreducible affine curve.
    Then, if \( P \in V \) is a smooth point, the function \( V \to \mathbb C \) defined by \( Q \mapsto X(Q) - X(P) \) is a local parameter if and only if \( \pdv{f}{Y}\qty(P) \neq 0 \).
\end{corollary}
\begin{proof}
    Use the proof of the above theorem.
\end{proof}
\begin{corollary}
    Let \( P \) be a smooth point of a curve \( V \).
    Then there exists a surjective group homomorphism \( \nu_P \colon \mathbb C(V)^\star \to \mathbb Z \) called the \emph{valuation} at \( P \) or \emph{order of vanishing} at \( P \), such that
    \begin{enumerate}
        \item \( \mathcal O_{V,P}  = \qty{0} \cup \qty{f \in \mathbb C(V)^\star \mid \nu_P(f) \geq 0} \);
        \item \( \mathfrak m_p = \qty{0} \cup \qty{f \in \mathbb C(V)^\star \mid \nu_P(f) > 0} \);
        \item if \( f \in \mathbb C(V)^\star \), then for any local parameter \( \pi_P \), we can write \( f = \pi_P^{\nu_P(f)} u \) where \( u \in \mathcal O_{V,P}^\star = O_{V,P} \setminus \mathfrak m_P \).
    \end{enumerate}
\end{corollary}
We will `filter' the ring \( \mathcal O_{V,P} \) by ideals generated generated by powers \( \pi_P^k \) for \( k \geq 0 \).
\begin{proof}
    We know that \( \mathfrak m_P = (\pi_P) \), so \( \mathfrak m_P^n = (\pi_P^n) \).
    Define \( J = \bigcap_{n \geq 0} \mathfrak m_P^n \).
    Note that \( J \trianglelefteq \mathcal O_{V,P} \) is a finitely generated ideal as we have seen in the previous proof, and moreover, \( \mathfrak m_P J = \pi_P J = J \).
    By part (i) of Nakayama's lemma, it follows that \( J = 0 \).
    So only the zero function vanishes to infinite order.

    For every \( f \in \mathcal O_{V,P} \setminus \qty{0} \), there exists a unique \( n \) such that \( f \in \mathfrak m_P^n \setminus \mathfrak m_P^{n+1} \).
    Define \( \nu_P(f) = n \) for this \( n \).
    If \( f \in \mathbb C(V) \setminus \mathcal O_{V,P} \setminus \qty{0} \), we claim \( f^{-1} \in \mathcal O_{V,P} \).
    Indeed, \( f = \frac{g}{h} \) for \( g, h \in \mathcal O_{V,P} \), so we can write \( g = \pi_P^k u \) and \( h = \pi_P^\ell u' \) where \( k, l \geq 0 \) and \( u, u' \in \mathcal O_{V,P}^\star \).
    Since \( f \not\in \mathcal O_{V,P} \), it follows that \( k < \ell \), so \( f^{-1} \in \mathcal O_{V,P} \) as required.
    Given this, we can define \( \nu_P(f) = -\nu_P(f^{-1}) \) for such \( f \).
    
    As \( \mathfrak m_P \) is a local ring, \( \mathcal O_{V,P} \setminus \mathfrak m_P = \mathcal O_{V,P}^\star \), so every nonzero \( f \in \mathbb C(V) \) is \( \pi_P^{\nu_P(f)} u \) where \( u \in \mathcal O_{V,P}^\star \), giving \( \nu_P \) as desired.
\end{proof}
\begin{example}
    Let \( V = \mathbb A^1 \) and \( P = 0 \in \mathbb A^1 \).
    Then \( \mathcal O_{\mathbb A^1,0} = \qty{\frac{f(t)}{g(t)} \mid g(0) \neq 0} \), and \( \mathfrak m_0 = \qty{\frac{f(t)}{g(t)} \mid f(0) = 0, g(0) \neq 0} \).
    So \( \mathfrak m_0 \) is the set of \( \frac{f(t)}{g(t)} \) where \( t \mid f \).
    Then \( \mathfrak m_0^k \) is the set of \( \frac{f(t)}{g(t)} \) where \( t^k \mid f \).
    
    We can think of \( \frac{f(t)}{g(t)} \) where \( g(t) = a_0 + a_1t + \dots + a_k t^k \) as \( f(t) \) multiplied by the power series expansion of \( g(t)^{-1} \) which has nonzero constant term.
    This product can be written as \( t^M \) multiplied by another power series with nonzero constant term.
    The valuation of \( f \) is \( \nu_0\qty(\frac{f}{g}) = M \).
\end{example}
\begin{corollary}
    Let \( V \) be an irreducible curve and \( f \in \mathbb C(V) \).
    If \( P \) is a smooth point, \( f \) or \( f^{-1} \) is regular at \( P \).
\end{corollary}
\begin{proof}
    \( f \) is regular at \( P \) if and only if \( f \in \mathcal O_{V,P} \).
    The statement then follows by checking the sign of \( \nu_P(f) \).
\end{proof}
\begin{corollary}
    Let \( V \) be a smooth curve.
    Then any rational map \( V \dashrightarrow \mathbb P^m \) is a morphism.
\end{corollary}
\begin{proof}
    Reordering coordinates, we can assume the image of \( \varphi \colon V \dashrightarrow \mathbb P^m \) is not contained in \( \qty{X_0 = 0} \).
    We write \( \varphi = (G_0, \dots, G_m) = (1 : g_1 : \dots : g_m) \) where \( g_j = \frac{G_J}{G_0} \in \mathbb C(V) \).
    If all \( g_j \in \mathcal O_{V,P} \), the result holds.
    Otherwise, let \( t = \min_j \qty{\nu_P(g_j)} \), so \( t < 0 \).
    Note that \( \min_j \qty{\nu_P(\pi_P^{-t} g_j)} = 0 \).
    Then \( \varphi \sim (\pi_P^{-t} : \pi_P^{-t} g_1 : \dots : \pi_P^{-t} g_m) \) which is regular at \( P \).
\end{proof}
Since every rational map is contained in \( \mathbb P^m \), any rational map from a curve to a projective variety is a morphism.

\subsection{Maps between curves}
\begin{example}
    Let \( C_d \in \mathbb P^2 \) be a smooth plane curve of degree \( d \), so \( C_d = \mathbb V(f) \) where \( f \) is homogeneous of degree \( d \).
    Let \( P \in \mathbb P^2 \).
    Then, the projection from \( P \), which is a rational map \( \mathbb P^2 \dashrightarrow \mathbb P^1 \), automatically restricts to a morphism \( C_d \to \mathbb P^1 \).
    This morphism is surjective, and most points in \( \mathbb P^1 \) have a fibre of size \( d \).
\end{example}
\begin{proposition}
    Let \( \varphi \colon V \to W \) be a non-constant morphism of irreducible (possibly singular) projective curves.
    Then, for all \( Q \in W \), the fibre \( \varphi^{-1}(Q) \) is finite.
    The map \( \varphi \) induces an inclusion \( \varphi^\star \colon \mathbb C(W) \hookrightarrow \mathbb C(V) \) which makes \( \mathbb C(V) \) a finite extension of \( \mathbb C(W) \).
\end{proposition}
\begin{proof}
    For the first statement, \( \varphi^{-1}(Q) \) is Zariski closed in \( V \), so is either \( V \) or a finite set of points.
    As \( \varphi \) is not constant, the fibre a finite set of points.
    \( V \) is infinite, so by the first part, \( \varphi(V) \) is infinite and therefore dense in \( W \).
    Since \( \varphi \) is dominant, \( \varphi^\star \) is defined.
    The map is automatically injective.
    Let \( t \in \mathbb C(W) \setminus \mathbb C \) with \( \varphi^\star(t) = x \).
    Since \( \mathbb C(V) \) has transcendence degree 1 over \( \mathbb C \), \( \mathbb C(V) \) is finite over \( \mathbb C(x) \), so also over \( \mathbb C(W) \).
\end{proof}
